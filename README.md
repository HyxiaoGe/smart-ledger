# ğŸ’° Smart Ledger

ä¸€ä¸ªç°ä»£åŒ–çš„æ™ºèƒ½è®°è´¦åº”ç”¨ï¼Œä¸“æ³¨äºæ”¯å‡ºè®°å½•å’Œåˆ†æï¼Œæä¾›ç›´è§‚çš„ç”¨æˆ·ç•Œé¢å’Œå¼ºå¤§çš„æ•°æ®åˆ†æåŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **æ”¯å‡ºè®°å½•** - ç®€å•å¿«æ·çš„æ”¯å‡ºè®°å½•ç•Œé¢
- **æ™ºèƒ½å¤‡æ³¨** - åŸºäºä½¿ç”¨ä¹ æƒ¯çš„æ™ºèƒ½å¤‡æ³¨æ¨è
- **æ•°æ®å¯è§†åŒ–** - ç›´è§‚çš„å›¾è¡¨å±•ç¤ºå’Œåˆ†æ
- **å¤šå¸ç§æ”¯æŒ** - æ”¯æŒäººæ°‘å¸(CNY)å’Œç¾å…ƒ(USD)
- **AIæ™ºèƒ½åˆ†æ** - åŸºäº DeepSeek AI çš„æ¶ˆè´¹åˆ†æå’Œå»ºè®®

### ğŸ“Š æ•°æ®åˆ†æ

- **ç±»åˆ«å æ¯”åˆ†æ** - é¥¼å›¾å±•ç¤ºå„ç±»åˆ«æ”¯å‡ºå æ¯”
- **æ”¯å‡ºè¶‹åŠ¿åˆ†æ** - æŒ‰æ—¥å±•ç¤ºæ”¯å‡ºå˜åŒ–è¶‹åŠ¿
- **Top 10 æ”¯å‡º** - å¤§é¢æ”¯å‡ºè®°å½•å¿«é€ŸæŸ¥çœ‹
- **ä»Šæ—¥/æœ¬æœˆåˆ‡æ¢** - çµæ´»çš„æ—¶é—´èŒƒå›´é€‰æ‹©
- **å›¾è¡¨è”åŠ¨** - å›¾è¡¨é—´æ•°æ®åŒæ­¥æ›´æ–°

### ğŸ¨ ç”¨æˆ·ç•Œé¢

- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ç°ä»£åŒ–UI** - åŸºäº Tailwind CSS çš„ç²¾ç¾ç•Œé¢
- **ç›´è§‚å¯¼èˆª** - æ¸…æ™°çš„é¡µé¢ç»“æ„å’Œå¯¼èˆªä½“éªŒ
- **äº¤äº’åé¦ˆ** - æµç•…çš„åŠ¨ç”»å’ŒçŠ¶æ€åé¦ˆ

## ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **UIç»„ä»¶**: Tailwind CSS + Lucide React
- **å›¾è¡¨åº“**: Recharts
- **æ•°æ®åº“**: Supabase
- **AIæœåŠ¡**: DeepSeek API
- **è¯­è¨€**: TypeScript
- **çŠ¶æ€ç®¡ç†**: React Hooks + URLå‚æ•°

## ğŸ“ é¡¹ç›®ç»“æ„

```
smart-ledger/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ add/                     # æ·»åŠ è´¦å•é¡µé¢
â”‚   â”œâ”€â”€ api/                     # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ analyze/            # AIåˆ†æAPI
â”‚   â”‚   â””â”€â”€ common-notes/       # æ™ºèƒ½å¤‡æ³¨API
â”‚   â”œâ”€â”€ components/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ records/                # è´¦å•åˆ—è¡¨é¡µé¢
â”‚   â””â”€â”€ layout.tsx             # æ ¹å¸ƒå±€
â”œâ”€â”€ components/                  # å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ ui/                     # UIåŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ Navigation.tsx         # å¯¼èˆªç»„ä»¶
â”‚   â”œâ”€â”€ NoteInput.tsx          # å¤‡æ³¨è¾“å…¥ç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib/                        # å·¥å…·åº“
â”‚   â”œâ”€â”€ supabaseClient.ts      # Supabaseå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ config.ts              # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ taskQueue.ts           # é€šç”¨ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†å™¨
â”‚   â”œâ”€â”€ dataSync.ts            # è·¨é¡µé¢æ•°æ®åŒæ­¥
â”‚   â””â”€â”€ ...
â”œâ”€â”€ types/                      # TypeScriptç±»å‹å®šä¹‰
â””â”€â”€ supabase/                   # æ•°æ®åº“é…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn åŒ…ç®¡ç†å™¨

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone <repository-url>
cd smart-ledger
```

2. **å®‰è£…ä¾èµ–**

```bash
npm install
```

3. **ç¯å¢ƒé…ç½®**

åˆ›å»º `.env.local` æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# AI æœåŠ¡é…ç½®
DEEPSEEK_API_KEY=your_deepseek_api_key
```

4. **æ•°æ®åº“è®¾ç½®**

- åœ¨ Supabase ä¸­åˆ›å»ºæ–°é¡¹ç›®
- è¿è¡Œ `supabase/schema.sql` ä¸­çš„ SQL è¯­å¥åˆ›å»ºè¡¨ç»“æ„
- é…ç½®æ•°æ®åº“æƒé™

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ [http://localhost:3000](http://localhost:3000) å¯åŠ¨ã€‚

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ·»åŠ æ”¯å‡ºè®°å½•

1. ç‚¹å‡»å¯¼èˆªæ ä¸­çš„"æ·»åŠ è´¦å•"
2. å¡«å†™æ”¯å‡ºä¿¡æ¯ï¼š
   - **åˆ†ç±»**: é€‰æ‹©æ”¯å‡ºç±»åˆ«ï¼ˆé¤é¥®ã€äº¤é€šã€è´­ç‰©ç­‰ï¼‰
   - **é‡‘é¢**: è¾“å…¥æ”¯å‡ºé‡‘é¢
   - **å¸ç§**: é€‰æ‹©è´§å¸ç±»å‹ï¼ˆCNY/USDï¼‰
   - **æ—¥æœŸ**: é€‰æ‹©æ”¯å‡ºæ—¥æœŸ
   - **å¤‡æ³¨**: å¯é€‰çš„è¯¦ç»†è¯´æ˜
3. ç‚¹å‡»"ä¿å­˜è´¦å•"

### æŸ¥çœ‹æ”¯å‡ºè®°å½•

1. ç‚¹å‡»å¯¼èˆªæ ä¸­çš„"è´¦å•åˆ—è¡¨"
2. æµè§ˆæ‰€æœ‰æ”¯å‡ºè®°å½•
3. æ”¯æŒç¼–è¾‘å’Œåˆ é™¤æ“ä½œ

### æ•°æ®åˆ†æ

1. åœ¨é¦–é¡µæŸ¥çœ‹ï¼š
   - **å›¾è¡¨æ¦‚è§ˆ**: ç±»åˆ«å æ¯”é¥¼å›¾å’Œæ”¯å‡ºè¶‹åŠ¿
   - **Top 10 æ”¯å‡º**: å¤§é¢æ”¯å‡ºè®°å½•
   - **æ—¶é—´ç­›é€‰**: ä»Šæ—¥/æœ¬æœˆæ•°æ®åˆ‡æ¢

2. **AI åˆ†æ**ï¼š
   - ç‚¹å‡»"AI åˆ†æ"æŒ‰é’®
   - è·å–æ™ºèƒ½æ¶ˆè´¹åˆ†ææŠ¥å‘Š
   - æŸ¥çœ‹æ”¯å‡ºå»ºè®®å’Œè¶‹åŠ¿åˆ†æ

## ğŸ”§ å¼€å‘æŒ‡å—

### å¯ç”¨è„šæœ¬

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼å†™æ³•å’Œ React Hooks
- UI æ ·å¼åŸºäº Tailwind CSS å·¥å…·ç±»

### æäº¤è§„èŒƒ

ä½¿ç”¨æ ‡å‡†åŒ–çš„æäº¤ä¿¡æ¯æ ¼å¼ï¼š

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„ä»£ç 
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

## ğŸ—ƒ æ•°æ®åº“ç»“æ„

### transactions è¡¨

| å­—æ®µ       | ç±»å‹      | æè¿°                         |
| ---------- | --------- | ---------------------------- |
| id         | UUID      | ä¸»é”®                         |
| type       | enum      | äº¤æ˜“ç±»å‹ï¼ˆå›ºå®šä¸º 'expense'ï¼‰ |
| category   | string    | æ”¯å‡ºåˆ†ç±»                     |
| amount     | numeric   | æ”¯å‡ºé‡‘é¢                     |
| date       | date      | æ”¯å‡ºæ—¥æœŸ                     |
| note       | text      | å¤‡æ³¨è¯´æ˜                     |
| currency   | string    | è´§å¸ç±»å‹ï¼ˆCNY/USDï¼‰          |
| deleted_at | timestamp | è½¯åˆ é™¤æ—¶é—´æˆ³                 |

### common_notes è¡¨

| å­—æ®µ        | ç±»å‹      | æè¿°         |
| ----------- | --------- | ------------ |
| id          | UUID      | ä¸»é”®         |
| content     | string    | å¤‡æ³¨å†…å®¹     |
| usage_count | integer   | ä½¿ç”¨æ¬¡æ•°     |
| last_used   | timestamp | æœ€åä½¿ç”¨æ—¶é—´ |
| created_at  | timestamp | åˆ›å»ºæ—¶é—´     |
| is_active   | boolean   | æ˜¯å¦å¯ç”¨     |

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - React å…¨æ ˆæ¡†æ¶
- [Supabase](https://supabase.com/) - å¼€æº Firebase æ›¿ä»£æ–¹æ¡ˆ
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [Recharts](https://recharts.org/) - React å›¾è¡¨åº“
- [DeepSeek](https://www.deepseek.ai/) - AI åˆ†ææœåŠ¡

---

**Smart Ledger** - è®©è®°è´¦å˜å¾—ç®€å•æ™ºèƒ½ ğŸ¯
